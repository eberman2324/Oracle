----Datarep Account list with object
AMS
A_SELECT_USER
BILLHIST
CIOAN
DBSNMP
DBTUNER
DRGENERIC
DRHIGH
DRML
DRPROD
DRUSER
DRWKAB
EMED
ETL
EXPDBA
FAC
GBLCLM
GBLELIG
GBLELIG_MV
GBLELIG_RO
INTRADEV
IVR
JRUNCHEY
LUMINX
LUMINX_RO
LX_CURRENT
LX_HISTORY
LX_STAGE
METABASE
ORACLE_OCM
ORA_FIN
PDCAPPL
PERFSTAT
RECON
REPORT
S036100
SKLAUSME
TOAD


--Datarep Account List with object for drop consideration

--Not sure


ALTER USER AMS ACCOUNT UNLOCK;
ALTER USER A_SELECT_USER ACCOUNT UNLOCK;
ALTER USER DRHIGH ACCOUNT UNLOCK;
ALTER USER DRML ACCOUNT UNLOCK;
ALTER USER DRUSER ACCOUNT UNLOCK;
ALTER USER EMED ACCOUNT UNLOCK;
ALTER USER FAC ACCOUNT UNLOCK;
ALTER USER ORACLE_OCM ACCOUNT UNLOCK;
ALTER USER ORA_FIN ACCOUNT UNLOCK;
ALTER USER RECON ACCOUNT UNLOCK;
ALTER USER REPORT ACCOUNT UNLOCK;
ALTER USER DBSNMP ACCOUNT UNLOCK;



----------
AMS
A_SELECT_USER
DRHIGH
DRML
DRUSER
EMED
FAC
ORACLE_OCM
ORA_FIN
RECON
REPORT


--remove
SKLAUSME
TOAD
PDCAPPL
JRUNCHEY
BILLHIST
CIOAN
EXPDBA
DBTUNER
PERFSTAT
METABASE
INTRADEV


---->DRDV01




cd $SCRIPTS/misc
vi lock_users_DRDV01.sql

alter user AMS ACCOUNT LOCK;
alter user A_SELECT_USER ACCOUNT LOCK;
alter user BILLHIST ACCOUNT LOCK;
alter user CIOAN ACCOUNT LOCK;
alter user DBSNMP ACCOUNT LOCK;
alter user DBTUNER ACCOUNT LOCK;
alter user DRHIGH ACCOUNT LOCK;
alter user DRML ACCOUNT LOCK;
alter user DRUSER ACCOUNT LOCK;
alter user EMED ACCOUNT LOCK;
alter user EXPDBA ACCOUNT LOCK;
alter user FAC ACCOUNT LOCK;
alter user INTRADEV ACCOUNT LOCK;
alter user JRUNCHEY ACCOUNT LOCK;
alter user METABASE ACCOUNT LOCK;
alter user ORACLE_OCM ACCOUNT LOCK;
alter user ORA_FIN ACCOUNT LOCK;
alter user PDCAPPL ACCOUNT LOCK;
alter user PERFSTAT ACCOUNT LOCK;
alter user RECON ACCOUNT LOCK;
alter user REPORT ACCOUNT LOCK;
alter user SKLAUSME ACCOUNT LOCK;
alter user TOAD ACCOUNT LOCK;


@lock_users_DRDV01.sql

--Made mistake locked users that has not been confirmed yet
--So unlock some back
ALTER USER AMS ACCOUNT UNLOCK;
ALTER USER A_SELECT_USER ACCOUNT UNLOCK;
ALTER USER DRHIGH ACCOUNT UNLOCK;
ALTER USER DRML ACCOUNT UNLOCK;
ALTER USER DRUSER ACCOUNT UNLOCK;
ALTER USER EMED ACCOUNT UNLOCK;
ALTER USER FAC ACCOUNT UNLOCK;
ALTER USER ORACLE_OCM ACCOUNT UNLOCK;
ALTER USER ORA_FIN ACCOUNT UNLOCK;
ALTER USER RECON ACCOUNT UNLOCK;
ALTER USER REPORT ACCOUNT UNLOCK;
ALTER USER DBSNMP ACCOUNT UNLOCK;




--Export Users first

datarep_schema_remove_expdp.par




schemas=SKLAUSME,
TOAD,
PDCAPPL,
JRUNCHEY,
BILLHIST,
CIOAN,
EXPDBA,
DBTUNER,
PERFSTAT,
METABASE,
INTRADEV


 cd /u01/aetna/scripts/export/
  ./expdp_general.ksh DRDV01 datarep_schema_remove_expdp.par DRDV01_schema_remove


expdp_DRDV01_schema_remove_20100409_094153.dmp


dsmc archive -archmc=A3Y expdp_DRDV01_schema_remove_20100409_094153.dmp

dsmc query archive "*"

cd $SCRIPTS/misc
vi remove_users_DRDV01.sql

DROP USER SKLAUSME CASCADE
/
DROP USER TOAD CASCADE
/
DROP USER PDCAPPL CASCADE
/
DROP USER JRUNCHEY CASCADE
/
DROP USER BILLHIST CASCADE
/
DROP USER CIOAN CASCADE
/
DROP USER EXPDBA CASCADE
/
DROP USER DBTUNER CASCADE
/
DROP USER PERFSTAT CASCADE
/
DROP USER METABASE CASCADE
/
DROP USER INTRADEV CASCADE
/


sqlplus / as sysdba
@remove_users_DRDV01.sql
exit


--Remove PERFSTAT

cd /tmp

sqlplus / as sysdba

@?/rdbms/admin/spdrop.sql

exit


---DRQA01
cd $SCRIPTS/misc
vi lock_users_DRQA01.sql

alter user AMS ACCOUNT LOCK;
alter user A_SELECT_USER ACCOUNT LOCK;
alter user BILLHIST ACCOUNT LOCK;
alter user CIOAN ACCOUNT LOCK;
alter user DBSNMP ACCOUNT LOCK;
alter user DBTUNER ACCOUNT LOCK;
alter user DRHIGH ACCOUNT LOCK;
alter user DRML ACCOUNT LOCK;
alter user DRUSER ACCOUNT LOCK;
alter user EMED ACCOUNT LOCK;
alter user EXPDBA ACCOUNT LOCK;
alter user FAC ACCOUNT LOCK;
alter user INTRADEV ACCOUNT LOCK;
alter user JRUNCHEY ACCOUNT LOCK;
alter user METABASE ACCOUNT LOCK;
alter user ORACLE_OCM ACCOUNT LOCK;
alter user ORA_FIN ACCOUNT LOCK;
alter user PDCAPPL ACCOUNT LOCK;
alter user PERFSTAT ACCOUNT LOCK;
alter user RECON ACCOUNT LOCK;
alter user REPORT ACCOUNT LOCK;
alter user SKLAUSME ACCOUNT LOCK;
alter user TOAD ACCOUNT LOCK;


@lock_users_DRQA01.sql


ALTER USER AMS ACCOUNT UNLOCK;
ALTER USER A_SELECT_USER ACCOUNT UNLOCK;
ALTER USER DRHIGH ACCOUNT UNLOCK;
ALTER USER DRML ACCOUNT UNLOCK;
ALTER USER DRUSER ACCOUNT UNLOCK;
ALTER USER EMED ACCOUNT UNLOCK;
ALTER USER FAC ACCOUNT UNLOCK;
ALTER USER ORACLE_OCM ACCOUNT UNLOCK;
ALTER USER ORA_FIN ACCOUNT UNLOCK;
ALTER USER RECON ACCOUNT UNLOCK;
ALTER USER REPORT ACCOUNT UNLOCK;
ALTER USER DBSNMP ACCOUNT UNLOCK;

--Export Users first

datarep_schema_remove_expdp.par




schemas=SKLAUSME,
TOAD,
PDCAPPL,
JRUNCHEY,
BILLHIST,
CIOAN,
EXPDBA,
DBTUNER,
PERFSTAT,
METABASE,
INTRADEV


 cd /u01/aetna/scripts/export/
  ./expdp_general.ksh DRQA01 datarep_schema_remove_expdp.par DRQA01_schema_remove

cd $INSTNACE_OUTPUTS/datapump

gzip expdp_DRQA01_schema_remove_20100409_095656.dmp


dsmc archive -archmc=A3Y expdp_DRQA01_schema_remove_20100409_095656.dmp.gz

dsmc query archive "*"


cd $SCRIPTS/misc
vi remove_users_DRQA01.sql

DROP USER SKLAUSME CASCADE
/
DROP USER TOAD CASCADE
/
DROP USER PDCAPPL CASCADE
/
DROP USER JRUNCHEY CASCADE
/
DROP USER BILLHIST CASCADE
/
DROP USER CIOAN CASCADE
/
DROP USER EXPDBA CASCADE
/
DROP USER DBTUNER CASCADE
/
DROP USER PERFSTAT CASCADE
/
DROP USER METABASE CASCADE
/
DROP USER INTRADEV CASCADE
/


sqlplus / as sysdba
@remove_users_DRQA01.sql
exit


--Remove PERFSTAT

cd /tmp

sqlplus / as sysdba

@?/rdbms/admin/spdrop.sql

exit

---DRQES1

cd $SCRIPTS/misc
vi lock_users_DRQES1.sql

alter user AMS ACCOUNT LOCK;
alter user A_SELECT_USER ACCOUNT LOCK;
alter user BILLHIST ACCOUNT LOCK;
alter user CIOAN ACCOUNT LOCK;
alter user DBSNMP ACCOUNT LOCK;
alter user DBTUNER ACCOUNT LOCK;
alter user DRHIGH ACCOUNT LOCK;
alter user DRML ACCOUNT LOCK;
alter user DRUSER ACCOUNT LOCK;
alter user EMED ACCOUNT LOCK;
alter user EXPDBA ACCOUNT LOCK;
alter user FAC ACCOUNT LOCK;
alter user INTRADEV ACCOUNT LOCK;
alter user JRUNCHEY ACCOUNT LOCK;
alter user METABASE ACCOUNT LOCK;
alter user ORACLE_OCM ACCOUNT LOCK;
alter user ORA_FIN ACCOUNT LOCK;
alter user PDCAPPL ACCOUNT LOCK;
alter user PERFSTAT ACCOUNT LOCK;
alter user RECON ACCOUNT LOCK;
alter user REPORT ACCOUNT LOCK;
alter user SKLAUSME ACCOUNT LOCK;
alter user TOAD ACCOUNT LOCK;


@lock_users_DRQES1.sql

ALTER USER AMS ACCOUNT UNLOCK;
ALTER USER A_SELECT_USER ACCOUNT UNLOCK;
ALTER USER DRHIGH ACCOUNT UNLOCK;
ALTER USER DRML ACCOUNT UNLOCK;
ALTER USER DRUSER ACCOUNT UNLOCK;
ALTER USER EMED ACCOUNT UNLOCK;
ALTER USER FAC ACCOUNT UNLOCK;
ALTER USER ORACLE_OCM ACCOUNT UNLOCK;
ALTER USER ORA_FIN ACCOUNT UNLOCK;
ALTER USER RECON ACCOUNT UNLOCK;
ALTER USER REPORT ACCOUNT UNLOCK;
ALTER USER DBSNMP ACCOUNT UNLOCK;


--Export Users first

datarep_schema_remove_expdp.par




schemas=SKLAUSME,
TOAD,
PDCAPPL,
JRUNCHEY,
BILLHIST,
CIOAN,
EXPDBA,
DBTUNER,
PERFSTAT,
METABASE,
INTRADEV


CREATE OR REPLACE DIRECTORY data_pump_dir AS '/u27/DRQES1/datapump';

 cd /u01/aetna/scripts/export/
  ./expdp_general.ksh DRQES1 datarep_schema_remove_expdp.par DRQES1_schema_remove

cd $INSTNACE_OUTPUTS/datapump

gzip expdp_DRQES1_schema_remove_20100409_101318.dmp


dsmc archive -archmc=A3Y expdp_DRQES1_schema_remove_20100409_101318.dmp.gz

dsmc query archive "*"



cd $SCRIPTS/misc
vi remove_users_DRQES1.sql

DROP USER SKLAUSME CASCADE
/
DROP USER TOAD CASCADE
/
DROP USER PDCAPPL CASCADE
/
DROP USER JRUNCHEY CASCADE
/
DROP USER BILLHIST CASCADE
/
DROP USER CIOAN CASCADE
/
DROP USER EXPDBA CASCADE
/
DROP USER DBTUNER CASCADE
/
DROP USER PERFSTAT CASCADE
/
DROP USER METABASE CASCADE
/
DROP USER INTRADEV CASCADE
/


sqlplus / as sysdba
@remove_users_DRQES1.sql
exit


---DRSTGC

cd $SCRIPTS/misc
vi lock_users_DRSTGC.sql

alter user AMS ACCOUNT LOCK;
alter user A_SELECT_USER ACCOUNT LOCK;
alter user BILLHIST ACCOUNT LOCK;
alter user CIOAN ACCOUNT LOCK;
alter user DBSNMP ACCOUNT LOCK;
alter user DBTUNER ACCOUNT LOCK;
alter user DRHIGH ACCOUNT LOCK;
alter user DRML ACCOUNT LOCK;
alter user DRUSER ACCOUNT LOCK;
alter user EMED ACCOUNT LOCK;
alter user EXPDBA ACCOUNT LOCK;
alter user FAC ACCOUNT LOCK;
alter user INTRADEV ACCOUNT LOCK;
alter user JRUNCHEY ACCOUNT LOCK;
alter user METABASE ACCOUNT LOCK;
alter user ORACLE_OCM ACCOUNT LOCK;
alter user ORA_FIN ACCOUNT LOCK;
alter user PDCAPPL ACCOUNT LOCK;
alter user PERFSTAT ACCOUNT LOCK;
alter user RECON ACCOUNT LOCK;
alter user REPORT ACCOUNT LOCK;
alter user SKLAUSME ACCOUNT LOCK;
alter user TOAD ACCOUNT LOCK;


@lock_users_DRSTGC.sql

ALTER USER AMS ACCOUNT UNLOCK;
ALTER USER A_SELECT_USER ACCOUNT UNLOCK;
ALTER USER DRHIGH ACCOUNT UNLOCK;
ALTER USER DRML ACCOUNT UNLOCK;
ALTER USER DRUSER ACCOUNT UNLOCK;
ALTER USER EMED ACCOUNT UNLOCK;
ALTER USER FAC ACCOUNT UNLOCK;
ALTER USER ORACLE_OCM ACCOUNT UNLOCK;
ALTER USER ORA_FIN ACCOUNT UNLOCK;
ALTER USER RECON ACCOUNT UNLOCK;
ALTER USER REPORT ACCOUNT UNLOCK;
ALTER USER DBSNMP ACCOUNT UNLOCK;


--Export Users first

datarep_schema_remove_expdp.par




schemas=SKLAUSME,
TOAD,
PDCAPPL,
JRUNCHEY,
BILLHIST,
CIOAN,
EXPDBA,
DBTUNER,
PERFSTAT,
METABASE,
INTRADEV




 cd /u01/aetna/scripts/export/
  ./expdp_general.ksh DRSTGC datarep_schema_remove_expdp.par DRSTGC_schema_remove

cd $INSTNACE_OUTPUTS/datapump

gzip expdp_DRSTGC_schema_remove_20100409_102031.dmp


dsmc archive -archmc=A3Y expdp_DRSTGC_schema_remove_20100409_102031.dmp.gz

dsmc query archive "*"



cd $SCRIPTS/misc
vi remove_users_DRSTGC.sql

DROP USER SKLAUSME CASCADE
/
DROP USER TOAD CASCADE
/
DROP USER PDCAPPL CASCADE
/
DROP USER JRUNCHEY CASCADE
/
DROP USER BILLHIST CASCADE
/
DROP USER CIOAN CASCADE
/
DROP USER EXPDBA CASCADE
/
DROP USER DBTUNER CASCADE
/
DROP USER PERFSTAT CASCADE
/
DROP USER METABASE CASCADE
/
DROP USER INTRADEV CASCADE
/


sqlplus / as sysdba
@remove_users_DRSTGC.sql
exit



---DR02

cd $SCRIPTS/misc
vi lock_users_DR02.sql




alter user SKLAUSME ACCOUNT LOCK;
alter user TOAD ACCOUNT LOCK;
alter user PDCAPPL ACCOUNT LOCK;
alter user JRUNCHEY ACCOUNT LOCK;
alter user BILLHIST ACCOUNT LOCK;
alter user CIOAN ACCOUNT LOCK;
alter user EXPDBA ACCOUNT LOCK;
alter user DBTUNER ACCOUNT LOCK;
alter user PERFSTAT ACCOUNT LOCK;
alter user METABASE ACCOUNT LOCK;
alter user INTRADEV ACCOUNT LOCK;

@lock_users_DR02.sql






--Export Users first

vi DR02_schema_remove.par




schemas=SKLAUSME,
TOAD,
PDCAPPL,
JRUNCHEY,
BILLHIST,
CIOAN,
EXPDBA,
DBTUNER,
PERFSTAT,
METABASE,
INTRADEV




 cd $SCRIPTS/export/
  ./expdp_general.ksh DR02 DR02_schema_remove.par DR02_schema_remove

cd $INSTNACE_OUTPUTS/datapump

gzip expdp_DR02_schema_remove_20100507_094731.dmp

dsmc archive -archmc=A3Y expdp_DR02_schema_remove_20100507_094731.dmp.gz

dsmc query archive "*"



cd $SCRIPTS/misc
vi remove_users_DR02.sql

DROP USER SKLAUSME CASCADE
/
DROP USER TOAD CASCADE
/
DROP USER PDCAPPL CASCADE
/
DROP USER JRUNCHEY CASCADE
/
DROP USER BILLHIST CASCADE
/
DROP USER CIOAN CASCADE
/
DROP USER EXPDBA CASCADE
/
DROP USER DBTUNER CASCADE
/
DROP USER PERFSTAT CASCADE
/
DROP USER METABASE CASCADE
/
DROP USER INTRADEV CASCADE
/



--Remove PERFSTAT

cd /tmp

sqlplus / as sysdba

@?/rdbms/admin/spdrop.sql

exit



sqlplus / as sysdba
@remove_users_DR02.sql
exit




***************************************** Users without objects *************************


select username from dba_users where username not in (select owner from dba_objects)
order by username

--DRDV01


cd $SCRIPTS/misc
vi lock_accounts_DRDV01.sql



alter user ABEAUCHA ACCOUNT LOCK;
alter user ABOWMAN1 ACCOUNT LOCK;
alter user ACALLAHA ACCOUNT LOCK;
alter user AGREENBE ACCOUNT LOCK;
alter user AJANSEN ACCOUNT LOCK;
alter user AMS_TEMP ACCOUNT LOCK;
alter user AREED ACCOUNT LOCK;
alter user ASATPATH ACCOUNT LOCK;
alter user ASMALLHO ACCOUNT LOCK;
alter user AWALSH ACCOUNT LOCK;
alter user BFINKELS ACCOUNT LOCK;
alter user BRAMIREZ ACCOUNT LOCK;
alter user BRICCHIU ACCOUNT LOCK;
alter user CHAWKINS ACCOUNT LOCK;
alter user CIS ACCOUNT LOCK;
alter user CMCGOWAN ACCOUNT LOCK;
alter user CMDBATCH ACCOUNT LOCK;
alter user CPHIDD ACCOUNT LOCK;
alter user CRAMOS ACCOUNT LOCK;
alter user CWELLS1 ACCOUNT LOCK;
alter user DARGILO ACCOUNT LOCK;
alter user DBLINK_DMDV01_REHAB ACCOUNT LOCK;
alter user DKEY ACCOUNT LOCK;
alter user DWALSH1 ACCOUNT LOCK;
alter user ELGSHIVA ACCOUNT LOCK;
alter user EMSINT ACCOUNT LOCK;
alter user ENATAL ACCOUNT LOCK;
alter user EPEREZ ACCOUNT LOCK;
alter user ERAGSDAL ACCOUNT LOCK;
alter user EYEN ACCOUNT LOCK;
alter user FBEIDERB ACCOUNT LOCK;
alter user FHENDERS ACCOUNT LOCK;
alter user FTHOMPSO ACCOUNT LOCK;
alter user GBLPRS ACCOUNT LOCK;
alter user GDENG ACCOUNT LOCK;
alter user GRAMDAS ACCOUNT LOCK;
alter user HBURKE ACCOUNT LOCK;
alter user HEATHER ACCOUNT LOCK;
alter user HRAYMOND ACCOUNT LOCK;
alter user JARTEST ACCOUNT LOCK;
alter user JBALDOCC ACCOUNT LOCK;
alter user JFAATZ ACCOUNT LOCK;
alter user JHINSZ1 ACCOUNT LOCK;
alter user JLANDRUM ACCOUNT LOCK;
alter user JLAVANAW ACCOUNT LOCK;
alter user JMINKER ACCOUNT LOCK;
alter user JMOLNAR ACCOUNT LOCK;
alter user JNELSON ACCOUNT LOCK;
alter user JRAMIREZ ACCOUNT LOCK;
alter user KCHAMMIN ACCOUNT LOCK;
alter user KHUSSEY ACCOUNT LOCK;
alter user KJENNINGS ACCOUNT LOCK;
alter user KKOSCIEL ACCOUNT LOCK;
alter user KMACEACH ACCOUNT LOCK;
alter user KMCKEEVE ACCOUNT LOCK;
alter user KMORAN ACCOUNT LOCK;
alter user KSCRIBNE ACCOUNT LOCK;
alter user KWELLS ACCOUNT LOCK;
alter user LCHAMBER ACCOUNT LOCK;
alter user LHERRERA ACCOUNT LOCK;
alter user LOBRIENU ACCOUNT LOCK;
alter user LPELLETI ACCOUNT LOCK;
alter user LSALASRI ACCOUNT LOCK;
alter user LXIA ACCOUNT LOCK;
alter user MBARRETT ACCOUNT LOCK;
alter user MCHRISTO ACCOUNT LOCK;
alter user MCORDOVA ACCOUNT LOCK;
alter user MDDATA ACCOUNT LOCK;
alter user MDONALDS ACCOUNT LOCK;
alter user MFONTANE ACCOUNT LOCK;
alter user MGILBERT ACCOUNT LOCK;
alter user MMOODY ACCOUNT LOCK;
alter user MREYNOLD ACCOUNT LOCK;
alter user MSLIWINS ACCOUNT LOCK;
alter user MZUNIGA ACCOUNT LOCK;
alter user NHUEWE ACCOUNT LOCK;
alter user PDCUSER ACCOUNT LOCK;
alter user PLEACH ACCOUNT LOCK;
alter user PSALAS ACCOUNT LOCK;
alter user RAVELLO ACCOUNT LOCK;
alter user RBERGER ACCOUNT LOCK;
alter user RBRISCO ACCOUNT LOCK;
alter user RCHESLOC ACCOUNT LOCK;
alter user RDONNELL ACCOUNT LOCK;
alter user RNODDIN ACCOUNT LOCK;
alter user RRALLIFO ACCOUNT LOCK;
alter user RSTGERMA ACCOUNT LOCK;
alter user RWAGMAN ACCOUNT LOCK;
alter user SBEATON ACCOUNT LOCK;
alter user SKENNY ACCOUNT LOCK;
alter user SKOMARAG ACCOUNT LOCK;
alter user SKONDA ACCOUNT LOCK;
alter user SLAVIN ACCOUNT LOCK;
alter user SOYEDOKU ACCOUNT LOCK;
alter user SPOND ACCOUNT LOCK;
alter user SPUDUPAK ACCOUNT LOCK;
alter user TCULP ACCOUNT LOCK;
alter user TEST_USR ACCOUNT LOCK;
alter user TREYES ACCOUNT LOCK;
alter user TRICHMON ACCOUNT LOCK;
alter user VMALANI ACCOUNT LOCK;
alter user WHERNAND ACCOUNT LOCK;
alter user YCHEN ACCOUNT LOCK;
alter user YHALL ACCOUNT LOCK;


@lock_accounts_DRDV01.sql







--Export Users first

vi datarep_accounts_remove_expdp.par





schemas=ABEAUCHA,
ABOWMAN1,
ACALLAHA,
AGREENBE,
AJANSEN,
AMS_TEMP,
AREED,
ASATPATH,
ASMALLHO,
AWALSH,
BFINKELS,
BRAMIREZ,
BRICCHIU,
CHAWKINS,
CIS,
CMCGOWAN,
CMDBATCH,
CPHIDD,
CRAMOS,
CWELLS1,
DARGILO,
DBLINK_DMDV01_REHAB,
DKEY,
DWALSH1,
ELGSHIVA,
EMSINT,
ENATAL,
EPEREZ,
ERAGSDAL,
EYEN,
FBEIDERB,
FHENDERS,
FTHOMPSO,
GBLPRS,
GDENG,
GRAMDAS,
HBURKE,
HEATHER,
HRAYMOND,
JARTEST,
JBALDOCC,
JFAATZ,
JHINSZ1,
JLANDRUM,
JLAVANAW,
JMINKER,
JMOLNAR,
JNELSON,
JRAMIREZ,
KCHAMMIN,
KHUSSEY,
KJENNINGS,
KKOSCIEL,
KMACEACH,
KMCKEEVE,
KMORAN,
KSCRIBNE,
KWELLS,
LCHAMBER,
LHERRERA,
LOBRIENU,
LPELLETI,
LSALASRI,
LXIA,
MBARRETT,
MCHRISTO,
MCORDOVA,
MDDATA,
MDONALDS,
MFONTANE,
MGILBERT,
MMOODY,
MREYNOLD,
MSLIWINS,
MZUNIGA,
NHUEWE,
PDCUSER,
PLEACH,
PSALAS,
RAVELLO,
RBERGER,
RBRISCO,
RCHESLOC,
RDONNELL,
RNODDIN,
RRALLIFO,
RSTGERMA,
RWAGMAN,
SBEATON,
SKENNY,
SKOMARAG,
SKONDA,
SLAVIN,
SOYEDOKU,
SPOND,
SPUDUPAK,
TCULP,
TEST_USR,
TREYES,
TRICHMON,
VMALANI,
WHERNAND,
YCHEN,
YHALL





 cd $SCRIPTS/export/
  ./expdp_general.ksh DRDV01 datarep_accounts_remove_expdp.par DRDV01_accounts_remove

cd $INSTNACE_OUTPUTS/datapump

gzip expdp_DR02_schema_remove_20100507_094731.dmp

dsmc archive -archmc=A3Y expdp_DRDV01_accounts_remove_20100601_094622.dmp

dsmc query archive "*"



cd $SCRIPTS/misc
vi remove_accounts_DRDV01.sql

-------------------------------
DROP USER ABEAUCHA CASCADE
/
DROP USER ABOWMAN1 CASCADE
/
DROP USER ACALLAHA CASCADE
/
DROP USER AGREENBE CASCADE
/
DROP USER AJANSEN CASCADE
/
DROP USER AMS_TEMP CASCADE
/
DROP USER AREED CASCADE
/
DROP USER ASATPATH CASCADE
/
DROP USER ASMALLHO CASCADE
/
DROP USER AWALSH CASCADE
/
DROP USER BFINKELS CASCADE
/
DROP USER BRAMIREZ CASCADE
/
DROP USER BRICCHIU CASCADE
/
DROP USER CHAWKINS CASCADE
/
DROP USER CIS CASCADE
/
DROP USER CMCGOWAN CASCADE
/
DROP USER CMDBATCH CASCADE
/
DROP USER CPHIDD CASCADE
/
DROP USER CRAMOS CASCADE
/
DROP USER CWELLS1 CASCADE
/
DROP USER DARGILO CASCADE
/
DROP USER DBLINK_DMDV01_REHAB CASCADE
/
DROP USER DKEY CASCADE
/
DROP USER DWALSH1 CASCADE
/
DROP USER ELGSHIVA CASCADE
/
DROP USER EMSINT CASCADE
/
DROP USER ENATAL CASCADE
/
DROP USER EPEREZ CASCADE
/
DROP USER ERAGSDAL CASCADE
/
DROP USER EYEN CASCADE
/
DROP USER FBEIDERB CASCADE
/
DROP USER FHENDERS CASCADE
/
DROP USER FTHOMPSO CASCADE
/
DROP USER GBLPRS CASCADE
/
DROP USER GDENG CASCADE
/
DROP USER GRAMDAS CASCADE
/
DROP USER HBURKE CASCADE
/
DROP USER HEATHER CASCADE
/
DROP USER HRAYMOND CASCADE
/
DROP USER JARTEST CASCADE
/
DROP USER JBALDOCC CASCADE
/
DROP USER JFAATZ CASCADE
/
DROP USER JHINSZ1 CASCADE
/
DROP USER JLANDRUM CASCADE
/
DROP USER JLAVANAW CASCADE
/
DROP USER JMINKER CASCADE
/
DROP USER JMOLNAR CASCADE
/
DROP USER JNELSON CASCADE
/
DROP USER JRAMIREZ CASCADE
/
DROP USER KCHAMMIN CASCADE
/
DROP USER KHUSSEY CASCADE
/
DROP USER KJENNINGS CASCADE
/
DROP USER KKOSCIEL CASCADE
/
DROP USER KMACEACH CASCADE
/
DROP USER KMCKEEVE CASCADE
/
DROP USER KMORAN CASCADE
/
DROP USER KSCRIBNE CASCADE
/
DROP USER KWELLS CASCADE
/
DROP USER LCHAMBER CASCADE
/
DROP USER LHERRERA CASCADE
/
DROP USER LOBRIENU CASCADE
/
DROP USER LPELLETI CASCADE
/
DROP USER LSALASRI CASCADE
/
DROP USER LXIA CASCADE
/
DROP USER MBARRETT CASCADE
/
DROP USER MCHRISTO CASCADE
/
DROP USER MCORDOVA CASCADE
/
DROP USER MDDATA CASCADE
/
DROP USER MDONALDS CASCADE
/
DROP USER MFONTANE CASCADE
/
DROP USER MGILBERT CASCADE
/
DROP USER MMOODY CASCADE
/
DROP USER MREYNOLD CASCADE
/
DROP USER MSLIWINS CASCADE
/
DROP USER MZUNIGA CASCADE
/
DROP USER NHUEWE CASCADE
/
DROP USER PDCUSER CASCADE
/
DROP USER PLEACH CASCADE
/
DROP USER PSALAS CASCADE
/
DROP USER RAVELLO CASCADE
/
DROP USER RBERGER CASCADE
/
DROP USER RBRISCO CASCADE
/
DROP USER RCHESLOC CASCADE
/
DROP USER RDONNELL CASCADE
/
DROP USER RNODDIN CASCADE
/
DROP USER RRALLIFO CASCADE
/
DROP USER RSTGERMA CASCADE
/
DROP USER RWAGMAN CASCADE
/
DROP USER SBEATON CASCADE
/
DROP USER SKENNY CASCADE
/
DROP USER SKOMARAG CASCADE
/
DROP USER SKONDA CASCADE
/
DROP USER SLAVIN CASCADE
/
DROP USER SOYEDOKU CASCADE
/
DROP USER SPOND CASCADE
/
DROP USER SPUDUPAK CASCADE
/
DROP USER TCULP CASCADE
/
DROP USER TEST_USR CASCADE
/
DROP USER TREYES CASCADE
/
DROP USER TRICHMON CASCADE
/
DROP USER VMALANI CASCADE
/
DROP USER WHERNAND CASCADE
/
DROP USER YCHEN CASCADE
/
DROP USER YHALL CASCADE
/
------------------------------





sqlplus / as sysdba
@remove_accounts_DRDV01.sql
exit







--DRQA01




cd $SCRIPTS/misc
vi lock_accounts_DRQA01.sql


alter user AGREENBE ACCOUNT LOCK;
alter user AMSRPT ACCOUNT LOCK; 
alter user AZEVALLO ACCOUNT LOCK;
alter user BBOYD ACCOUNT LOCK;
alter user CCLARK2 ACCOUNT LOCK;
alter user CGAY ACCOUNT LOCK;
alter user DBLINK_DMQA01_REHAB ACCOUNT LOCK;
alter user DFULLER ACCOUNT LOCK;
alter user ENATAL ACCOUNT LOCK;
alter user GLABOSSI ACCOUNT LOCK;
alter user JDOZIER ACCOUNT LOCK;
alter user JGONZAL3 ACCOUNT LOCK;
alter user JMINKER ACCOUNT LOCK;
alter user JMOLNAR ACCOUNT LOCK;
alter user KKOSCIEL ACCOUNT LOCK;
alter user KMORRIS ACCOUNT LOCK;
alter user LCHAMBER ACCOUNT LOCK;
alter user LFALLACA ACCOUNT LOCK;
alter user LHEYDET ACCOUNT LOCK;
alter user LXIA ACCOUNT LOCK;
alter user MCORDOVA ACCOUNT LOCK;
alter user PDCUSER ACCOUNT LOCK;
alter user SKOMARAG ACCOUNT LOCK;
alter user SKONDA ACCOUNT LOCK;
alter user SPUDUPAK ACCOUNT LOCK;
alter user YCHEN ACCOUNT LOCK;


@lock_accounts_DRQA01.sql

--Export Users first

vi DRQA01_accounts_remove_expdp.par




schemas=AGREENBE,
AMSRPT, 
AZEVALLO,
BBOYD,
CCLARK2,
CGAY,
DBLINK_DMQA01_REHAB,
DFULLER,
ENATAL,
GLABOSSI,
JDOZIER,
JGONZAL3,
JMINKER,
JMOLNAR,
KKOSCIEL,
KMORRIS,
LCHAMBER,
LFALLACA,
LHEYDET,
LXIA,
MCORDOVA,
PDCUSER,
SKOMARAG,
SKONDA,
SPUDUPAK,
YCHEN 




 cd $SCRIPTS/export/
  ./expdp_general.ksh DRQA01 DRQA01_accounts_remove_expdp.par DRQA01_accounts_remove

cd $INSTNACE_OUTPUTS/datapump



dsmc archive -archmc=A3Y expdp_DRQA01_accounts_remove_20100601_104446.dmp

dsmc query archive "*"

cd $SCRIPTS/misc
vi remove_accounts_DRQA01.sql


DROP USER AGREENBE CASCADE
/
DROP USER AMSRPT CASCADE
/ 
DROP USER AZEVALLO CASCADE
/
DROP USER BBOYD CASCADE
/
DROP USER CCLARK2 CASCADE
/
DROP USER CGAY CASCADE
/
DROP USER DBLINK_DMQA01_REHAB CASCADE
/
DROP USER DFULLER CASCADE
/
DROP USER ENATAL CASCADE
/
DROP USER GLABOSSI CASCADE
/
DROP USER JDOZIER CASCADE
/
DROP USER JGONZAL3 CASCADE
/
DROP USER JMINKER CASCADE
/
DROP USER JMOLNAR CASCADE
/
DROP USER KKOSCIEL CASCADE
/
DROP USER KMORRIS CASCADE
/
DROP USER LCHAMBER CASCADE
/
DROP USER LFALLACA CASCADE
/
DROP USER LHEYDET CASCADE
/
DROP USER LXIA CASCADE
/
DROP USER MCORDOVA CASCADE
/
DROP USER PDCUSER CASCADE
/
DROP USER SKOMARAG CASCADE
/
DROP USER SKONDA CASCADE
/
DROP USER SPUDUPAK CASCADE
/
DROP USER YCHEN  CASCADE
/

sqlplus / as sysdba
@remove_accounts_DRQA01.sql
exit

--DRQES1


cd $SCRIPTS/misc
vi lock_accounts_DRQES1.sql

alter user JMOLNAR ACCOUNT LOCK;
alter user SKOMARAG ACCOUNT LOCK;

@lock_accounts_DRQES1.sql



--Export Users first

vi DRQES1_accounts_remove_expdp.par




schemas=JMOLNAR,
SKOMARAG 




 cd $SCRIPTS/export/
  ./expdp_general.ksh DRQES1 DRQES1_accounts_remove_expdp.par DRQES1_accounts_remove

cd $INSTNACE_OUTPUTS/datapump



dsmc archive -archmc=A3Y expdp_DRQES1_accounts_remove_20100601_110512.dmp

dsmc query archive "*"

cd $SCRIPTS/misc
vi remove_accounts_DRQES1.sql


DROP USER JMOLNAR CASCADE
/
DROP USER SKOMARAG CASCADE
/ 



sqlplus / as sysdba
@remove_accounts_DRQES1.sql
exit



--DRSTGC


cd $SCRIPTS/misc
vi lock_accounts_DRSTGC.sql

alter user JMOLNAR ACCOUNT LOCK;
alter user SKOMARAG ACCOUNT LOCK;

@lock_accounts_DRSTGC.sql

--Export Users first

vi DRSTGC_accounts_remove_expdp.par




schemas=JMOLNAR,
SKOMARAG 




 cd $SCRIPTS/export/
  ./expdp_general.ksh DRSTGC DRSTGC_accounts_remove_expdp.par DRSTGC_accounts_remove

cd $INSTNACE_OUTPUTS/datapump



dsmc archive -archmc=A3Y expdp_DRSTGC_accounts_remove_20100601_111605.dmp

dsmc query archive "*"

cd $SCRIPTS/misc
vi remove_accounts_DRSTGC.sql


DROP USER JMOLNAR CASCADE
/
DROP USER SKOMARAG CASCADE
/ 



sqlplus / as sysdba
@remove_accounts_DRSTGC.sql
exit




--DR02

cd $SCRIPTS/misc
vi lock_accounts_DR02.sql

alter user DARGILO ACCOUNT LOCK; 
alter user DBLINK_DM02_REHAB ACCOUNT LOCK;
alter user ENATAL ACCOUNT LOCK;
alter user FBEIDERB ACCOUNT LOCK;
alter user ICHEKRYG ACCOUNT LOCK;
alter user JDOZIER ACCOUNT LOCK;
alter user JLANDRUM ACCOUNT LOCK;
alter user JMINKER ACCOUNT LOCK;
alter user JMOLNAR ACCOUNT LOCK;
alter user JRUNCHEY_TEST ACCOUNT LOCK;
alter user KKOSCIEL ACCOUNT LOCK;
alter user KMACEACH ACCOUNT LOCK;
alter user KMORRIS ACCOUNT LOCK;
alter user LCHAMBER ACCOUNT LOCK;
alter user LFALLACA ACCOUNT LOCK;
alter user LXIA ACCOUNT LOCK;
alter user MCORDOVA ACCOUNT LOCK;
alter user MWHITCOM ACCOUNT LOCK;
alter user RHOLDEN ACCOUNT LOCK;
alter user SKOMARAG ACCOUNT LOCK;
alter user SKONDA ACCOUNT LOCK;
alter user VBELAGUR ACCOUNT LOCK;
alter user YCHEN ACCOUNT LOCK;


--Export Users first

cd $SCRIPTS/export

vi DR02_account_remove.par




 

schemas=DARGILO,
DBLINK_DM02_REHAB,
ENATAL,
FBEIDERB,
ICHEKRYG,
JDOZIER,
JLANDRUM,
JMINKER,
JMOLNAR,
JRUNCHEY_TEST,
KKOSCIEL,
KMACEACH,
KMORRIS,
LCHAMBER,
LFALLACA,
LXIA,
MCORDOVA,
MWHITCOM,
RHOLDEN,
SKOMARAG,
SKONDA,
VBELAGUR,
YCHEN



 cd $SCRIPTS/export/
  ./expdp_general.ksh DR02 DR02_account_remove.par DR02_account_remove

cd $INSTNACE_OUTPUTS/datapump


dsmc archive -archmc=A3Y expdp_DR02_account_remove_20100615_100217.dmp

dsmc query archive "*"



cd $SCRIPTS/misc
vi remove_accounts_DR02.sql



DROP USER DARGILO CASCADE
/
DROP USER DBLINK_DM02_REHAB CASCADE
/
DROP USER ENATAL CASCADE
/
DROP USER FBEIDERB CASCADE
/
DROP USER ICHEKRYG CASCADE
/
DROP USER JDOZIER CASCADE
/
DROP USER JLANDRUM CASCADE
/
DROP USER JMINKER CASCADE
/
DROP USER JMOLNAR CASCADE
/
DROP USER JRUNCHEY_TEST CASCADE
/
DROP USER KKOSCIEL CASCADE
/
DROP USER KMACEACH CASCADE
/
DROP USER KMORRIS CASCADE
/
DROP USER LCHAMBER CASCADE
/
DROP USER LFALLACA CASCADE
/
DROP USER LXIA CASCADE
/
DROP USER MCORDOVA CASCADE
/
DROP USER MWHITCOM CASCADE
/
DROP USER RHOLDEN CASCADE
/
DROP USER SKOMARAG CASCADE
/
DROP USER SKONDA CASCADE
/
DROP USER VBELAGUR CASCADE
/
DROP USER YCHEN CASCADE
/


sqlplus / as sysdba
@remove_accounts_DR02.sql
