SELECT TO_NUMBER('MUST_BE_SAME_TIMEZONE_FILE_VERSION')

Restore wkabstgc


1. /u27/wkabstgc/Backup/08092009210000

   cp archive_log_files.tar.Z /u28/oracle/wkabstgc/oraarch/archive_log_files.tar.Z

uncompress *.Z
    tar -xvf *.tar


2. 

uncompress beneng_data_01.dbf.Z
uncompress -c < beneng_data_01.dbf > /u28/oracle/wkabstgc/oradata/beneng_data_01.dbf
cp  beneng_data_01.dbf /u28/oracle/wkabstgc/oradata/beneng_data_01.dbf

uncompress -c < beneng_data_02.dbf.Z > /u28/oracle/wkabstgc/oradata/beneng_data_02.dbf

uncompress -c < beneng_index_01.dbf.Z > /u28/oracle/wkabstgc/oradata/beneng_index_01.dbf

uncompress -c < beneng_index_02.dbf.Z > /u28/oracle/wkabstgc/oradata/beneng_index_02.dbf

uncompress -c < ejsadmin_01.dbf.Z > /u28/oracle/wkabstgc/oradata/ejsadmin_01.dbf
uncompress -c < fineos_data_01.dbf.Z > /u28/oracle/wkabstgc/oradata/fineos_data_01.dbf

uncompress -c < fineos_data_02.dbf.Z > /u28/oracle/wkabstgc/oradata/fineos_data_02.dbf

uncompress -c < fineos_index_01.dbf.Z > /u28/oracle/wkabstgc/oradata/fineos_index_01.dbf

uncompress -c < fineos_index_02.dbf.Z > /u28/oracle/wkabstgc/oradata/fineos_index_02.dbf

uncompress -c < system_01.dbf.Z > /u28/oracle/wkabstgc/oradata/system_01.dbf
uncompress -c < TAEDBA2.dbf.Z > /u28/oracle/wkabstgc/oradata/TAEDBA2.dbf
uncompress -c < undotbs_01.dbf.Z > /u28/oracle/wkabstgc/oradata/undotbs_01.dbf
uncompress -c < users_01.dbf.Z > /u28/oracle/wkabstgc/oradata/users_01.dbf
uncompress -c < wkab_data_01.dbf.Z > /u28/oracle/wkabstgc/oradata/wkab_data_01.dbf
uncompress -c < wkab_data_02.dbf.Z > /u28/oracle/wkabstgc/oradata/wkab_data_02.dbf
uncompress -c < wkab_index_01.dbf.Z > /u28/oracle/wkabstgc/oradata/wkab_index_01.dbf

uncompress -c < wkab_index_02.dbf.Z > /u28/oracle/wkabstgc/oradata/wkab_index_02.dbf

uncompress -c < wkab_lob_01.dbf.Z > /u28/oracle/wkabstgc/oradata/wkab_lob_01.dbf
uncompress -c < wkab_lob_02.dbf.Z > /u28/oracle/wkabstgc/oradata/wkab_lob_02.dbf
uncompress -c < temp_01.dbf.Z > /u28/oracle/wkabstgc/oradata/temp_01.dbf

cp controlfile.backupfile /u28/oracle/wkabstgc/oradata/control01.ctl
cp controlfile.backupfile /u28/oracle/wkabstgc/oradata/control02.ctl
cp controlfile.backupfile /u28/oracle/wkabstgc/oradata/control03.ctl




Steps:
=====

++ Copy the backup of controlfile to all the 3 locations.

++ Startup mount the database.

++ Recover the database.

startup mount;

SQL>recover database using backup controlfile until cancel;

Apply the archivelogs required and open the database in resetlogs.


SQL>alter database open resetlogs;

shutdown immediate;
       startup


ALTER TABLESPACE TEMP ADD TEMPFILE '/u28/oracle/wkabstgc/oradata/temp_01.dbf' SIZE 5000M REUSE AUTOEXTEND ON NEXT 524288000  MAXSIZE 8000M;
